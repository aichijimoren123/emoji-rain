<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <title>å¾®ä¿¡é£æ ¼è¡¨æƒ…é›¨ï¼ˆä¿®å¤æ—‹è½¬ç‰ˆï¼‰</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #0f172a;
            color: white;
            font-family: sans-serif;
        }

        .input-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            gap: 8px;
        }

        input {
            flex: 1;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 16px;
            border: none;
            outline: none;
        }

        button {
            padding: 8px 16px;
            border: none;
            background: #22d3ee;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        /* ä¸‹è½åŠ¨ç”»ï¼Œä»…åŒ…å« Y æ–¹å‘ç§»åŠ¨ */
        @keyframes fall {
            from {
                transform: translateY(-80px);
            }

            to {
                transform: translateY(110vh);
            }
        }

        /* å¤–å±‚ï¼šè´Ÿè´£è§’åº¦æ—‹è½¬ */
        .emoji {
            position: absolute;
            pointer-events: none;
            user-select: none;
            will-change: transform;
        }

        /* å†…å±‚ï¼šåªè´Ÿè´£ä¸‹è½ */
        .inner {
            animation: fall linear forwards;
            will-change: transform;
        }
    </style>
</head>

<body>

    <div class="input-bar">
        <input id="msg" placeholder="è¾“å…¥æ¶ˆæ¯ï¼Œå¦‚ï¼šç”Ÿæ—¥å¿«ä¹ / æˆ‘çˆ±ä½  / å“ˆå“ˆ" />
        <button onclick="sendMessage()">å‘é€</button>
    </div>

    <script>
        const EMOJI_MAP = {
            "ç”Ÿæ—¥å¿«ä¹": ["ğŸ‚", "ğŸ‰", "âœ¨"],
            "æˆ‘çˆ±ä½ ": ["â¤ï¸", "ğŸ’–", "ğŸ’•"],
            "å“ˆå“ˆ": ["ğŸ˜‚", "ğŸ¤£"],
            "å‘è´¢": ["ğŸ§§", "ğŸ’°", "ğŸª™"]
        };

        function triggerEmojiRain(list) {
            const count = 12;
            let i = 0;

            function drop() {
                if (i >= count) return;
                createDrop(list);
                i++;
                setTimeout(drop, 80 + Math.random() * 120); // é€ä¸ªæ‰è½
            }

            drop();
        }

        function createDrop(list) {
            const emoji = list[Math.floor(Math.random() * list.length)];

            const wrapper = document.createElement("div");
            wrapper.className = "emoji";

            const inner = document.createElement("div");
            inner.className = "inner";
            inner.textContent = emoji;

            wrapper.appendChild(inner);

            // éšæœºå¤§å°
            const size = 36 + Math.random() * 20;
            inner.style.fontSize = size + "px";

            // éšæœºæ°´å¹³ä½ç½®
            wrapper.style.left = Math.random() * 100 + "vw";

            // â­ å›ºå®šéšæœºè§’åº¦ï¼ˆä¸ä¼šè¢«åŠ¨ç”»è¦†ç›–ï¼‰
            const angle = Math.random() * 80 - 40; // -40Â° ~ 40Â°
            wrapper.style.transform = `rotate(${angle}deg)`;

            // ä¸‹è½é€Ÿåº¦
            const duration = 2.8 + Math.random() * 1.5;
            inner.style.animationDuration = duration + "s";

            document.body.appendChild(wrapper);

            inner.addEventListener("animationend", () => wrapper.remove());
        }

        function sendMessage() {
            const msg = msgInput.value.trim();
            if (!msg) return;

            for (let key in EMOJI_MAP) {
                if (msg.includes(key)) {
                    triggerEmojiRain(EMOJI_MAP[key]);
                    break;
                }
            }

            msgInput.value = "";
        }

        const msgInput = document.getElementById("msg");
    </script>

</body>

</html>